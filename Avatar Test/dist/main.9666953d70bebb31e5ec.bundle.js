/*! For license information please see main.9666953d70bebb31e5ec.bundle.js.LICENSE.txt */
(()=>{var e,s={356:(e,s,t)=>{"use strict";var i=t(260),a=t.n(i),n=t(840),l=t.n(n);class h{}h.SYM_1=0,h.SYM_2=1,h.SYM_3=2,h.SYM_4=3,h.SYM_5=4,h.SYM_6=5,h.SYM_7=6,h.SYM_8=7,h.SYM_9=8,h.SYM_10=9,h.SYM_11=10,h.SYM_12=11,h.SYM_13=12,h.SYM_14=13,h.SYM_15=14,h.SYM_16=15,h.SYM_17=16,h.SYM_18=17,h.SYM_19=18,h.REEL_SYM_LENGTH=[15,18,21,24,27],h.REEL_GAP=15,h.SYM_WIDTH=200,h.SYM_HEIGHT=200,h.REEL_X=520,h.REEL_Y=300,h.SPIN_BTN_X=1700,h.SPIN_BTN_Y=550,h.WIN_LINE_DATA=[[1,1,1,1,1],[0,0,0,0,0],[2,2,2,2,2]];class o{}o.WINS=[];class r{constructor(e,s,t,i,a){this._reels=[];let n=e.add.graphics();n.fillRect(s-h.SYM_WIDTH/2,t-h.SYM_HEIGHT/2,i,a);let l=n.createGeometryMask();this._view=e.add.container(s,t),this._view.setMask(l)}addReels(e){this._view.add(e.view),this._reels.push(e)}setSymbols(e){for(let s in this._reels)this._reels[s].availableSymbols=e}setInitReels(e){for(let s in this._reels)this._reels[s].setInitResult(e[s])}setReels(e){for(let s in this._reels)this._reels[s].setResult(e[s])}startReels(e){for(let s in this._reels)this._reels[s].startReel(e)}getReel(e){return this._reels[e]}}class m{constructor(e,s,t,i,a,n,l){this._currentSymbols=[],this._availableSymbols=[],this.scene=e,this._id=s,this._view=e.add.container(),this._visibleCount=a,this._symHeight=l,this.createReel(t,i,n,l)}createReel(e,s,t,i){this._view.x=e,this._view.y=s}setInitResult(e){this.clearReels(),this._view.add(this.scene.add.image(0,0,this._availableSymbols[e[0]].reelAnim)),this._view.add(this.scene.add.image(0,this._symHeight,this._availableSymbols[e[1]].reelAnim)),this._view.add(this.scene.add.image(0,2*this._symHeight,this._availableSymbols[e[2]].reelAnim))}setResult(e){this.clearReelsForNextSpin();for(let s=0;s<e.length;s++){let t=this.scene.add.sprite(0,s*this._symHeight,this._availableSymbols[e[s]].reelAnim);t.name=this._availableSymbols[e[s]].reelAnim.split("sym")[1],this._view.add(t)}if(this._currentSymbols.length){for(let s=0;s<this._currentSymbols.length;s++)this._view.add(this._currentSymbols[s]),this._currentSymbols[s].y=s*this._symHeight+e.length*this._symHeight;this._currentSymbols=[],this._view.y=-(this._view.length-3)*this._symHeight}else this._view.y=-(e.length-3)*this._symHeight}clearReels(){this._view.removeAll(!0)}clearReelsForNextSpin(){if(this._view.length<this._visibleCount)this.clearReels();else{for(let e=0;e<this._visibleCount;e++)this._currentSymbols.push(this._view.list.shift());this.clearReels()}}startReel(e){let s=Math.abs(.4*this._view.y);this.scene.tweens.add({targets:this._view,y:0,duration:s,onComplete:()=>{4===this._id&&e()}})}getSymatRow(e){return this.view.list[e]}set availableSymbols(e){this._availableSymbols=e}get availableSymbols(){return this._availableSymbols}get view(){return this._view}}class _{constructor(e,s,t){this.id=s,this.reelAnim=t}}class g{static generateReelData(e){let s=[];o.WINS=[];for(let e=0;e<h.REEL_SYM_LENGTH.length;e++){let t=[];for(let s=0;s<h.REEL_SYM_LENGTH[e];s++)t.push(this.getRandomInt(h.SYM_19));s.push(t)}return e?this.insertWinSequence(s):s}static getRandomInt(e){return Math.floor(Math.random()*Math.floor(e+1))}static insertWinSequence(e){let s=this.getRandomInt(h.SYM_19);for(let t of e)for(let e=0;e<5;e++)t[e]=s;for(let e=0;e<h.WIN_LINE_DATA.length;e++)o.WINS.push({lineID:e,symID:s,win:this.getRandomInt(100)});return e}}class c{constructor(e){this.tweenArray=[],this.symAnims=[],this._gameState=e,this.text=this.createTextFeild()}createTextFeild(){return this._gameState.add.text(720,820,"",{font:"bold 32px Arial",fill:"#fff",boundsAlignH:"center",boundsAlignV:"middle"})}start(e){this.tweenArray=[],this.symAnims=[],this._onFinCallback=e,this._lineIDX=0,this.animateLine()}animateLine(){this._lineIDX<o.WINS.length?(this.setSymAnim(),this.text.text="LINE : "+(o.WINS[this._lineIDX].lineID+1)+" Symbol : "+o.WINS[this._lineIDX].symID+" WIN : "+o.WINS[this._lineIDX].win,this._timer=this._gameState.time.addEvent({delay:2e3,callback:this.onLineAnimationFinished,callbackScope:this,loop:!1})):(this.text.text="",this._onFinCallback())}onLineAnimationFinished(){this._timer.remove(!1),this.stopAnim(),this._lineIDX++,this.animateLine()}setSymAnim(){for(let e=0;e<h.WIN_LINE_DATA[o.WINS[this._lineIDX].lineID].length;e++){let s=h.WIN_LINE_DATA[o.WINS[this._lineIDX].lineID][e],t=this._gameState.reelContainer.getReel(e).getSymatRow(s),i=this._gameState.add.sprite(h.REEL_X+(t.width+h.REEL_GAP)*e,h.REEL_Y+t.height*s,"anim"+t.name);this.symAnims.push(i),this.tweenArray.push(this._gameState.tweens.add({targets:i,alpha:0,duration:500,ease:"Power2",yoyo:!0,repeat:-1}))}}stopAnim(){for(let e of this.tweenArray)e.stop();for(let e of this.symAnims)e.visible=!1}}class d extends Phaser.Scene{constructor(){super({key:"MainScene"})}create(){this.add.image(0,0,"basegamebg").setOrigin(0),this.reelContainer=this.createReelContainer(),this.winAnimation=new c(this);let e=this.createSymbols();this.reelContainer.setSymbols(e),this.reelContainer.setInitReels(g.generateReelData(!1)),this.startBtn=this.createBtn(),this.enableStartBtn()}startReels(){this.disableStartBtn();let e=!!g.getRandomInt(1),s=g.generateReelData(e);this.reelContainer.setReels(s),this.reelContainer.startReels(this.onReelSpinFinish.bind(this))}createBtn(){return this.add.image(950,999,"btn").setInteractive().setScale(.3)}createSymbols(){let e=[];for(let s=0;s<19;s++)e.push(new _(this,s+1,"sym"+(s+1)));return e}createReelContainer(){let e=new r(this,h.REEL_X,h.REEL_Y,5*(h.SYM_WIDTH+h.REEL_GAP),3*h.SYM_HEIGHT);for(let s=0;s<5;s++)e.addReels(new m(this,s,s*(h.SYM_WIDTH+h.REEL_GAP),0,3,h.SYM_WIDTH,h.SYM_HEIGHT));return e}onReelSpinFinish(){this.startWinPresentation()}startWinPresentation(){this.winAnimation.start((()=>{this.enableStartBtn()}))}enableStartBtn(){this.startBtn.alpha=1,this.startBtn.once("pointerup",this.startReels,this)}disableStartBtn(){this.startBtn.alpha=.5}}class y extends Phaser.Scene{constructor(){super({key:"PreloadScene"})}preload(){this.preloadDesktop()}create(){this.scene.start("MainScene")}preloadDesktop(){this.load.image("sym1","assets/symbols/9.png"),this.load.image("sym2","assets/symbols/10.png"),this.load.image("sym3","assets/symbols/A.png"),this.load.image("sym4","assets/symbols/BONUS.png"),this.load.image("sym5","assets/symbols/H1.png"),this.load.image("sym6","assets/symbols/H2.png"),this.load.image("sym7","assets/symbols/H3.png"),this.load.image("sym8","assets/symbols/H4.png"),this.load.image("sym9","assets/symbols/H5.png"),this.load.image("sym10","assets/symbols/H6.png"),this.load.image("sym11","assets/symbols/J.png"),this.load.image("sym12","assets/symbols/K.png"),this.load.image("sym13","assets/symbols/M1.png"),this.load.image("sym14","assets/symbols/M2.png"),this.load.image("sym15","assets/symbols/M3.png"),this.load.image("sym16","assets/symbols/M4.png"),this.load.image("sym17","assets/symbols/M5.png"),this.load.image("sym18","assets/symbols/M6.png"),this.load.image("sym19","assets/symbols/Q.png"),this.load.image("anim1","assets/symbols/9_connect.png"),this.load.image("anim2","assets/symbols/10_connect.png"),this.load.image("anim3","assets/symbols/A_connect.png"),this.load.image("anim4","assets/symbols/BONUS.png"),this.load.image("anim5","assets/symbols/H1_connect.png"),this.load.image("anim6","assets/symbols/H2_connect.png"),this.load.image("anim7","assets/symbols/H3_connect.png"),this.load.image("anim8","assets/symbols/H4_connect.png"),this.load.image("anim9","assets/symbols/H5_connect.png"),this.load.image("anim10","assets/symbols/H6_connect.png"),this.load.image("anim11","assets/symbols/J_connect.png"),this.load.image("anim12","assets/symbols/K_connect.png"),this.load.image("anim13","assets/symbols/M1_connect.png"),this.load.image("anim14","assets/symbols/M2_connect.png"),this.load.image("anim15","assets/symbols/M3_connect.png"),this.load.image("anim16","assets/symbols/M4_connect.png"),this.load.image("anim17","assets/symbols/M5_connect.png"),this.load.image("anim18","assets/symbols/M6_connect.png"),this.load.image("anim19","assets/symbols/Q_connect.png"),this.load.image("btn","assets/btn/btn.png"),this.load.image("basegamebg","assets/symbols/basegame_bg.jpg")}}window.addEventListener("resize",(e=>{console.log("resize event")})),new class{constructor(){this.DEFAULT_WIDTH=1920,this.DEFAULT_HEIGHT=1080,this.MAX_WIDTH=2048,this.MAX_HEIGHT=1152,this.SCALE_MODE="SMOOTH",this.init(),window.addEventListener("resize",(e=>{console.log("resize window"),this.resize()})),this.resize()}init(){const e={parent:"phaser-game",width:this.DEFAULT_WIDTH,height:this.DEFAULT_HEIGHT,scale:{mode:a().Scale.NONE,width:this.DEFAULT_WIDTH,height:this.DEFAULT_HEIGHT},scene:[y,d]};this.game=new(a().Game)(e),this.hammer=new(l().Manager)(this.game.canvas)}resize(e){const s=window.innerWidth,t=window.innerHeight;let i=this.DEFAULT_WIDTH,a=this.DEFAULT_HEIGHT,n=this.MAX_WIDTH,l=this.MAX_HEIGHT,h=this.SCALE_MODE,o=Math.min(s/i,t/a),r=Math.min(s/o,n),m=Math.min(t/o,l),_=this.DEFAULT_WIDTH/this.DEFAULT_HEIGHT,g=this.MAX_WIDTH/this.DEFAULT_HEIGHT,c=this.DEFAULT_WIDTH/this.MAX_HEIGHT,d=1;if("SMOOTH"===h){const e=1.15,n=(e,s,t)=>(e-s)/(t-s);d=i/a<s/t?-n(r/m,_,g)/(1/(e-1))+e:-n(r/m,_,c)/(1/(e-1))+e,this.game.scale.resize(r*d,m*d),this.game.canvas.style.width=r*o+"px",this.game.canvas.style.height=m*o+"px",this.game.canvas.style.marginTop=(t-m*o)/2+"px",this.game.canvas.style.marginLeft=(s-r*o)/2+"px"}}}},204:()=>{console.log("%c %c %c %c %c Built using phaser-project-template %c https://github.com/yandeu/phaser-project-template","background: #ff0000","background: #ffff00","background: #00ff00","background: #00ffff","color: #fff; background: #000000;","background: none")}},t={};function i(e){var a=t[e];if(void 0!==a)return a.exports;var n=t[e]={exports:{}};return s[e].call(n.exports,n,n.exports,i),n.exports}i.m=s,e=[],i.O=(s,t,a,n)=>{if(!t){var l=1/0;for(m=0;m<e.length;m++){for(var[t,a,n]=e[m],h=!0,o=0;o<t.length;o++)(!1&n||l>=n)&&Object.keys(i.O).every((e=>i.O[e](t[o])))?t.splice(o--,1):(h=!1,n<l&&(l=n));if(h){e.splice(m--,1);var r=a();void 0!==r&&(s=r)}}return s}n=n||0;for(var m=e.length;m>0&&e[m-1][2]>n;m--)e[m]=e[m-1];e[m]=[t,a,n]},i.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return i.d(s,{a:s}),s},i.d=(e,s)=>{for(var t in s)i.o(s,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:s[t]})},i.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={179:0};i.O.j=s=>0===e[s];var s=(s,t)=>{var a,n,[l,h,o]=t,r=0;if(l.some((s=>0!==e[s]))){for(a in h)i.o(h,a)&&(i.m[a]=h[a]);if(o)var m=o(i)}for(s&&s(t);r<l.length;r++)n=l[r],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(m)},t=self.webpackChunkphaser_project_template=self.webpackChunkphaser_project_template||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))})(),i.O(void 0,[216],(()=>i(356)));var a=i.O(void 0,[216],(()=>i(204)));a=i.O(a)})();